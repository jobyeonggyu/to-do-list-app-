<!DOCTYPE html>
<html lang="ko">  
<head>
   <meta charset="UTF-8">     
   <meta http-equiv="X-UA-Compatible" content="IE=edge">    
   <meta name="viewport" content="width=device-width, initial-scale=1.0">    
   <link rel="stylesheet" href="./addListstyle.css">
   <title>To-Do-List</title>   
  
</head>
<body>
   <style>
      body{
        background-color:beige
      }
   </style>
   <header>
      <div style="text-align: left;">  
         <span id="clock" style="color:gray; font-size: 25px;">clock</span>   
         <span id="apm" style="color:gray; font-size: 10px;"  >ampm</span>   
      </div>
 
      <script>
         var Target = document.getElementById("clock");        
         var Target_apm = document.getElementById("apm");      
         function clock() {                                  
             var time = new Date();
             var hours = time.getHours();
             var minutes = time.getMinutes();
             var seconds = time.getSeconds();
             var AmPm ="AM";
             if(hours > 12){   
                 var AmPm ="PM";
                 hours %= 12;
             }
 
             Target.innerText = 
             `${hours < 10 ? `0${hours}` : hours}:${minutes < 10 ? `0${minutes}` : minutes}:${seconds < 10 ? `0${seconds}` : seconds}`;
 
             Target_apm.innerText = `${AmPm}`;
 
         }
         clock();                                           
         setInterval(clock, 1000);                           
      </script>   
     
     
     <h1> To Do list  
         <form id = "new-task-form">
            <input
            type = "text"
            id="new-task-input"
            placeholder="To Do List 추가 "/>
            <input
            type = "submit"
            id="new-task-summit"
            value="목록 추가"/>
            
         </form>
      </h1>   
   </header>
   
   <main>
      <section class = "task-list">
         <h2> Tasks</h2>
         
         <div id = "tasks">
            
            <div class = "task">
               <div class = "contents">
                  <script>
                     alert("hello")
                     window.addEventListener('load', () => {
                        const form = document.querySelector("#new-task-form");
                        const input = document.querySelector("#new-task-input");
                        const list_el = document.querySelector("#tasks");

                        form.addEventListener('submit', (e) => {
                           e.preventDefault();

                           const task = input.value;

                           if (!task) {
                              alert("일을 채워라");
                              return;
                           }

                           const task_el = document.createElement("div");
                           task_el.classList.add("task");

                           const task_content_el = document.createElement("div");
                           task_content_el.classList.add("content");
                        

                           task_el.appendChild(task_content_el);

                           const task_input_el = document.createElement("input");
                           task_input_el.classList.add("text");
                           task_input_el.type = "text";
                           task_input_el.value = task;
                           task_input_el.setAttribute("readonly", "readonly");

                           task_content_el.appendChild(task_input_el);

                           const task_actions_el = document.createElement("div");
                           task_actions_el.classList.add("action");
                           
                           const task_edit_el = document.createElement("button");
                           task_edit_el.classList.add("edit");
                           task_edit_el.innerHTML = "Edit";

                           const task_delete_el = document.createElement
                           ("button");
                           task_delete_el.classList.add("delete");
                           task_delete_el.innerHTML = "Delete";


                           task_actions_el.appendChild(task_edit_el);
                           task_actions_el.appendChild(task_delete_el);

                           task_el.appendChild(task_actions_el);




                           list_el.appendChild(task_el);

                           input.value = "";

                           task_edit_el.addEventListener('click', () => {
                              if (task_edit_el.innerText.toLowerCase() == 
                              "edit") {
                                 task_input_el.removeAttribute("readonly");
                                 task_input_el.focus();
                                 task_edit_el.innerText = "save";

                              } else {
                                 task_input_el.setAttribute("readonly",
                                 "readonly");
                                 task_edit_el.innerText = "Edit";
                              }

                           })

                           task_delete_el.addEventListener('click', () => {
                              list_el.removeChild(task_el);
                           })
                        })
                     })
                     var e = document.getElementById('edit');
                     e.addEventListener('click', function(){
                        text.value = '(수정된 내용)';
                        count++;
                     })
                     
                     var d = document.getElementById('delete');
                     d.addEventListener('click', function(){
                        text.value = '(내용 삭제)';
                     })
                     
                  </script>
               </div> 
            </div>
         </div> 
      </section>   
   </main>    
   <script src="addList.js"></script>
</body>
</html>